%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% NIWeek 2014 Poster by T. Reveyrand
% www.microwave.fr
% http://www.microwave.fr/LaTeX.html
% ---------------------------------------
% 
% Original template created by:
% Brian Amberg (baposter@brian-amberg.de)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[a0paper,portrait]{baposter}
\input{/home/debortoli/texmf/tex/header_poster}
\definecolor{green_mat}{RGB}{50, 205, 50}
\definecolor{red_mat}{RGB}{255, 51, 0}
\definecolor{blue_mat}{RGB}{0, 102, 255}
\usetikzlibrary{positioning,fit,shapes.geometric,backgrounds}
\usepackage[utf8]{inputenc}
\usepackage{enumitem}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[font=small,labelfont=bf]{caption} % Required for specifying captions to tables and figures
\usepackage{booktabs} % Horizontal rules in tables
\usepackage{relsize} % Used for making text smaller in some places

\usepackage{amsmath,amsfonts,amssymb,amsthm} % Math packages
\usepackage{eqparbox}

\usepackage{textcomp}

\graphicspath{{figures/}} % Directory in which figures are stored

 \definecolor{bordercol}{RGB}{40,40,40} % Border color of content boxes
 \definecolor{headercol1}{RGB}{255, 150, 51} % Background color for the header in the content boxes (left side)
 \definecolor{headercol2}{RGB}{179, 89, 0} % Background color for the header in the content boxes (right side)
 \definecolor{headerfontcol}{RGB}{0,0,0} % Text color for the header text in the content boxes
 \definecolor{boxcolor}{RGB}{255, 204, 153} % Background color for the content in the content boxes

 \bibliography{/home/debortoli/research/research.bib}
\begin{document}

\background{ % Set the background to an image (background.pdf)
\begin{tikzpicture}[remember picture,overlay]
\draw (current page.north west)+(-2em,2em) node[anchor=north west]
{\includegraphics[height=1.1\textheight]{poster_background_rot}};
\end{tikzpicture}
}

\begin{poster}{
grid=false,
borderColor=bordercol, % Border color of content boxes
headerColorOne=headercol1, % Background color for the header in the content boxes (left side)
headerColorTwo=headercol2, % Background color for the header in the content boxes (right side)
headerFontColor=headerfontcol, % Text color for the header text in the content boxes
boxColorOne=boxcolor, % Background color for the content in the content boxes
headershape=roundedright, % Specify the rounded corner in the content box headers
headerfont=\Large\sf\bf, % Font modifiers for the text in the content box headers
textborder=rectangle,
background=user,
headerborder=open, % Change to closed for a line under the content box headers
boxshade=plain
}
{\includegraphics[scale=0.6]{logo_CMLA_transparent.png}}
%
%----------------------------------------------------------------------------------------
%	TITLE AND AUTHOR NAME
%----------------------------------------------------------------------------------------
%
{ \bf  \huge {Patches, a contrario framework and periodicity detection}
}  %\\  \Large \it An a contrario method to interpret spatial redundancy} % Poster title
{\vspace{0.3em} \smaller Valentin De Bortoli$^1$, Agnès Desolneux$^1$, Bruno Galerne$^2$, Arthur Leclaire$^1$\\  % Author names
  
\smaller $^1$\it {CMLA, ENS Cachan, CNRS, Université Paris-Saclay, 94235 Cachan, France} \\ $^2$\it{Laboratoire MAP5 (UMR CNRS 8145), Université Paris Descartes, Sorbonne Paris Cité} } % Author email addresses
{\includegraphics[scale=0.13]{logo_MAP5_transparent.png}} % University/lab logo

%----------------------------------------------------------------------------------------
%	INTRODUCTION
%----------------------------------------------------------------------------------------
\headerbox{1. Abstract}{name=introduction,column=0,row=0, span=1}{
  \small
  \begin{itemize}[leftmargin=*]
  \item Patches are central in image processing \cite{raad2015conditional, buades2005non, he2014image}
\vspace{-0.2cm}
\item Introduction of patch comparison strategy with probabilistic guarantees
\vspace{-0.2cm}
\item Appplication to periodicity detection
\end{itemize}
}


%----------------------------------------------------------------------------------------
%	CALIBRATION
%----------------------------------------------------------------------------------------
\headerbox{3. A contrario framework}{name=a contrario,column=1,span=1}{
  \small
  Classic \textit{a contrario} framework $D(u,\pi_0,\varepsilon)$, \cite{mumford2010pattern}:
  \input{./a_contrario.tex}
  \vspace{0.4cm}
  \textbf{Goal: } Find most similar patches in image (position maps) using \textit{a contrario} methods.}
  \headerbox{4. Patch similarity}{name=detection,column=2,span=1}{
  \begin{itemize}[leftmargin=*]
  \item $s$ similarity function between patches
  \item $\pi_0$ microtexture model, usually Gaussian \cite{galerne2011random}
  \item Two cases of \textbf{matching}:
    \begin{enumerate}
    \item \textbf{internal:} $\mathcal{E}_u := s(\bm{\mathrm{u}}, \bm{\mathrm{u}}) \le s(u,u)$ \newline
      (periodicity analysis)
    \item \textbf{template:} $\mathcal{E}_u := s(\bm{\mathrm{u}}, u_0) \le s(u,u_0)$ \newline
      (texture synthesis)
    \end{enumerate}
  \end{itemize}
%  \textbf{Question: } how to compute $\mathbb{1}_{P_{\bm{\mathrm{u}} \sim \pi_0}(\mathcal{E}_u) \le \varepsilon}$?
  \input{./proposition_1.tex}
    \vspace{-0.3cm}
  \textbf{Question: } How to compute these c.d.f?
  \begin{enumerate}
  \item Focus on $\ell^2$ $\rightarrow$ Euclidean structure
  \item Depending on the similarity function, internal or template matching cases can be computed \textit{exactly}
  \end{enumerate}
  \posterthm{}{Internal matching and $\ell^2$}{
    Let $s(u,u)(x) = \| \mathbb{1}_{\omega}(u - \tau_x(u)) \|_2^2$ where ${\omega \subset \Omega}$ is a patch index.
    Suppose ${\veclet{u} \sim \mathcal{N}(0,C)}$ then
    \[ s(\veclet{u},\veclet{u})(x) \sim \summ{y \in \omega}{}{\lambda_y \xi_y}\]
    with $\lambda_y$ eigenvalues of $C_x = 2C - \tau_xC - \tau_{-x}C$ and $\xi_y$ independent $\chi_2$ r.v.}
  \vspace{0.08
    cm}
}

\headerbox{Conclusion}{name=conclusion, column=2, below=detection}{
  \begin{itemize}[leftmargin=*]
  \item Euclidean similarities allow for \textbf{fast computation} \vspace{-0.2cm}
  \item Thresholds for similarity detection are derived from \textbf{a contrario} methods \vspace{-0.2cm}
  \item Periodicity detection algorithm, links with \textbf{co-occurence} matrix methods \cite{conners1980toward} 
  \end{itemize}
%  \vspace{-0.1cm}
}

\headerbox{Bibliography}{name=biblio, column=2, below=conclusion}{
\printbibliography[heading=none]
}
% ----------------------------------------------------------------------------------------
%	OTHER INSTRUMENTATION
%----------------------------------------------------------------------------------------
\headerbox{2. Comparing patches}{name=comparing,span=1,column=0, below=introduction}{
  \small
  %To reduce this block to 1 column width, remove 'span=2'

% \begin{center}
% \resizebox{0.9\textwidth}{!}{\begin{minipage}{\textwidth}
% \begin{tabular}{l l l l}
% \toprule
% \textbf{Name} & \textbf{Manufacturer} & \textbf{Receivers} & \textbf{Availability}\\
% \midrule
% MTA (requires two synchronized) & HP & Sampler & Discontinued \\
% LSNA & Agilent & Sampler & Discontinued \\
% PNA-X + Nonlinear option & Agilent & Mixer & \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
%   ZVA + Nonlinear option & Rohde and Schwarz & Mixer &  \$\$ \\
% SWAP X-402 & VTD & Sampler & Discontinued \\
% \bottomrule
% \end{tabular}
% \end{minipage}}
% \end{center}
  Let $u$ be an image defined over $\Omega \subset \Z^2$. \newline
  To compare patches in images several comparison functions are available \cite{deledalle2012compare}:
  \vspace{-0.2cm}
  \begin{itemize}[leftmargin=*]
  \item $\ell^p$ norms (especially \textcolor{red_mat}{$\ell^1$}, \textcolor{blue_mat}{$\ell^2$} and \textcolor{green_mat}{$\ell^{\infty}$})
  \item Directional measurements (Euclidean scalar product, angle measurements)
  \end{itemize}
  \vspace{-0.5cm}
%   \textbf{Observation: } trade-off between \textit{rigidity} and \textit{innovation}.
%   \begin{center}
%   %\begin{left}
%     \input{norms.tex}
%   % \end{left}
% \hspace{10pt}
% \begin{tikzpicture}
%   \node[] at (0,0) {};
%       \draw [<->,line width = 1mm, >=stealth] (-1.5,3) to [out=20,in=160]node[below = 1mm, text width = 2.7cm]{\begin{center}  \small real world images + geometric experiments to illustrate this rigidity/innovation trade-off \end{center}} (1.5,3) [];
%     \end{tikzpicture}
% \hspace{10pt}
     \begin{center}
       \input{most_similar.tex}
       \end{center}
%   \end{center}
% \begin{figure}
%   \subfloat{\includegraphics[width=.18\linewidth]{contrast_00_L2_20_superp.png}} \hfill
%   \subfloat{\includegraphics[width=.18\linewidth]{contrast_00_L1_20_superp.png}} \hfill
%   \subfloat{\includegraphics[width=.18\linewidth]{contrast_00_Linfinite_20_superp.png}} \hfill
%   \subfloat{\includegraphics[width=.18\linewidth]{contrast_00_ps_20_superp.png}} \hfill
%   \subfloat{\includegraphics[width=.18\linewidth]{contrast_00_cos_20_superp.png}} \hfill \\
% \end{figure}
}


%----------------------------------------------------------------------------------------
%	MIXER vs. SAMPLERS
%----------------------------------------------------------------------------------------
% \headerbox{Receiver: Mixer vs. Sampler}{name=comparing,span=2,column=1,row=1, below=instruments}{
% \begin{center}
% \includegraphics[width=1\linewidth]{RECEIVER.pdf}
% \end{center}
% }


%----------------------------------------------------------------------------------------
%	MEASUREMENT SETUP
%----------------------------------------------------------------------------------------
\headerbox{5. Periodicity analysis}{name=periodicity,span=2,column=0,below=comparing}{
  \small
  \textbf{Goal: } Given $u$ with a periodic pattern $P$ find the underlying lattice $\mathcal{L} = (e_1,e_2)$. Let $X$ be a set of vertices.
  \posterassumption{}{Deformed lattice hypothesis}{
    \[ \forall x \in X, \forall y \in \mathcal{N}_x, \exists (m_{\lbrace x,y \rbrace}, n_{\lbrace x, y \rbrace}) \in \Z^2, x - y = m_{\lbrace x,y \rbrace} e_1 + n_{\lbrace x,y \rbrace} e_2 + \sigma Z_{\lbrace x,y \rbrace} \]
    where $\mathcal{N}_x$ is a neighborhood of $x$ and $Z_{\lbrace x,y \rbrace}$ are independent standard Gaussian r.v.}
  \heart\textbf{\textcolor{blue}{Take-home 2:}} \textbf{This hypothesis is naturally translated in a graphical model and reduces to parameters estimation of $(e_1,e_2,m_{\lbrace x,y \rbrace},n_{\lbrace x,y \rbrace},\sigma)$.}
  \vspace{-0.3cm}
  \[ \underbrace{L(X)}_{\text{log-likelihood}} := -C\log(\sigma^2) - \frac{1}{2\sigma^2}\underbrace{\left( \summ{x \in X, y \in \mathcal{N}_x}{}{\| (m_{\lbrace x,y \rbrace}e_1+n_{\lbrace x,y \rbrace}e_2) - (x-y) \|^2} + \overbrace{r(m_{\lbrace x,y \rbrace}, n_{\lbrace x, y \rbrace},e_1,e_2,\delta,\eta)}^{\text{regularization}} \right)}_{E_{\delta,\eta}(m_{\lbrace x,y \rbrace}, n_{\lbrace x, y \rbrace},e_1,e_2)}\]
  \vspace{-0.5cm}
  \begin{algorithm}[H]
    \small
\caption{Lattice detection -- $L(\delta,\eta,N)$}
\begin{algorithmic}
\REQUIRE{$\delta$, $\eta$ and $N$ set by user}
% \REQUIRE{$\delta \eta \ge 3 \|Z\|$}
% \STATE $(e_1^0,e_1^0)$ randomly chosen in the unit sphere
\FOR{$n=0$ to $N-1$}
\STATE $(\tilde{m}_{\lbrace x,y \rbrace},\tilde{n}_{\lbrace x,y \rbrace}) \ \leftarrow \underset{\mathbb{R}^2}{\operatorname{argmin}} \ E_{\delta,0}(m_{\lbrace x,y \rbrace},n_{\lbrace x,y \rbrace},e_1^n,e_2^n)$
\STATE $(m_{\lbrace x,y \rbrace}^{n+1}, n_{\lbrace x,y \rbrace}^{n+1}) \ \leftarrow \ \operatorname{argmin} \ (E_{\delta,0}(\operatorname{round}\left((\tilde{m}_{\lbrace x,y \rbrace}, \tilde{n}_{\lbrace x,y \rbrace})\right),e_1^n,e_2^n), E_{\delta,0}(m_{\lbrace x,y \rbrace}^n,n_{\lbrace x,y \rbrace}^n,e_1^n,e_2^n))$
\STATE $(e_1^{n+1},e_2^{n+1}) \ \leftarrow \ \underset{\left(\mathbb{R}^2\right)^2}{\operatorname{argmin}} \ E_{0,\eta}(m_{\lbrace x,y \rbrace}^{n+1}, n_{\lbrace x,y \rbrace}^{n+1}, e_1,e_2)$
\ENDFOR
% \STATE compute $\sigma^{N}$, compute $L^N$
% \RETURN $(m_{\lbrace x,y \rbrace}^N, n_{\lbrace x,y \rbrace}^N,e_1^N,e_2^N,\sigma^N,L^N)$
\end{algorithmic}
\end{algorithm}
\vspace{-1cm}
\begin{center}
  \input{lattice_detec.tex}
\end{center}
\begin{center}

  \input{lattice_xp.tex}
  \end{center}
  \posterprop{}{Finite time convergence}{
    Under conditions on $(\delta,\eta)$ Algorithm $1$ converges in \textbf{finite time}.
    Moreover the log-likelihood is increased at each step.
  }
  \vspace{-0.3cm}
  \textbf{Problems \& remarks: }
  \vspace{-0.2cm}
\begin{itemize}[leftmargin=*]
\item Conditions not satisfied in practice, \textbf{but} finite time convergence still observed
  \vspace{-0.2cm}
\item Can be written as \textbf{EM} algorithm
\end{itemize}
% The setup includes \textbf{two LSNAs simultaneously}. One is dedicated to RF (sampler based downconversion), the other one samples directly the LF stimulus. The purpose is to investigate \textbf{low-frequencies $S_{22}$} of the DUT under RF large signal conditions.
% \begin{center}
% \includegraphics[width=\linewidth]{BENCH.pdf}
% \small \textit{Low-frequency measurement of drain supply envelope-bandwidth impedance for supply-modulated PAs}
% \end{center}
}


%----------------------------------------------------------------------------------------
%	CONCLUSION
%----------------------------------------------------------------------------------------
%\headerbox{Conclusion}{name=conclusion,column=1,below=periodicity,span=2}{
% This new project will enable a new RF measurement capability by enabling an instrument that currently does not exist on the market. Some additional benefits include:
% \vspace{-0.2cm}
% \begin{itemize} 
% \item frequency range extension of NI RF instrument products currently available;
% \vspace{-0.2cm}
% \item sampler architecture offers a unique multi-scale time analysis possibility (e.g. signal and carrier domains);
% \vspace{-0.2cm}
% \item can be implemented with various ADCs and downconverters (e.g. THAs);
% \vspace{-0.2cm}
% \item 100\% LabVIEW environment;
% \vspace{-0.2cm}
% \item goal is to offer open-source LabVIEW software for user measurement flexibility.
% \end{itemize}
%}


%----------------------------------------------------------------------------------------
%	REFERENCES
%----------------------------------------------------------------------------------------

%\headerbox{References}{name=references,column=2,below=periodicity}{

%\smaller % Reduce the font size in this block
%\renewcommand{\section}[2]{\vskip 0.05em} % Get rid of the default "References" section title
%\nocite{*} % Insert publications even if they are not cited in the poster

%\bibliographystyle{unsrt}
%\bibliographystyle{IEEEtran}
%\bibliography{biblio} % Use biblio.bib as the bibliography file
%}


%----------------------------------------------------------------------------------------
%	ACKNOWLEDGEMENTS
%----------------------------------------------------------------------------------------

% \headerbox{Acknowledgements}{name=acknowledgements,column=0,below=conclusion, above=bottom,span=3}{
% \smaller 
% This work is funded by National Instruments (Dr. Truchard) through a charitable donation. We would like to acknowledge DARPA (Dr. Greene) and ONR (Dr. Maki) for funding the initial part of this work under grant N00014-11-1-0931. \hfill \tiny \textit{Poster downloaded from} \textbf{www.microwave.fr}
% } 


\end{poster}

\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
